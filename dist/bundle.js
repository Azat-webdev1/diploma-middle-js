(()=>{"use strict";const e=(e,t,n,o)=>{const s=document.querySelectorAll(t),r=document.querySelector(n),l=document.querySelector(o),a=document.querySelector(e);s.forEach((e=>{e.addEventListener("click",(()=>{a.style.display="block",l.style.display="block"}))})),l.addEventListener("click",(()=>{a.style.display="none",l.style.display="none"})),r.addEventListener("click",(()=>{a.style.display="none",l.style.display="none"}))},t=(e,t,n,o,s,r)=>{let l=0;const a=document.querySelector(t);let c=a.querySelector(n),i=a.querySelector(o),d=a.querySelector(s),u=a.querySelector(r);const m=e=>1===String(e).length?"0"+e:String(e),y=()=>{let t=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=0,o=0,s=0,r=0;return t>0&&(n=Math.floor(t%60),o=Math.floor(t/60%60),s=Math.floor(t/60/60%24),r=Math.floor(t/86400)),{timeRemaining:t,days:r,hours:s,minutes:o,seconds:n}})();c.textContent=m(t.days),i.textContent=m(t.hours),d.textContent=m(t.minutes),u.textContent=m(t.seconds),t.timeRemaining<=0&&clearInterval(l)};y(),l=setInterval(y,1e3)},n=()=>{let e,t=0;const o=document.getElementById("benefits"),s=document.querySelector(".benefits-wrap"),r=document.querySelector(".benefits-inner"),l=document.querySelectorAll(".benefits__item"),a=window.screen.width;e=a>576?3:1,r.style.overflow="hidden",r.style.maxWidth="576px",r.style.margin="0 auto",s.style.transition="transform 0.5s",s.style.willChange="transform",l.forEach((t=>{t.style.display="flex",t.style.flexDirection="column",t.style.flex=`0 0 ${Math.floor(100/e)}%`,t.style.maxWidth="unset"})),o.addEventListener("click",(n=>{n.target.closest(".benefits__arrow")&&(n.target.closest(".benefits__arrow--left")?(--t,t<0&&(t=l.length-e),s.style.transform=`translateX(-${t*Math.floor(100/e)}%)`):n.target.closest(".benefits__arrow--right")&&(++t,t>l.length-e&&(t=0),s.style.transform=`translateX(-${t*Math.floor(100/e)}%)`))})),window.addEventListener("resize",n)},o=n,s=()=>{let e,t=0;const n=document.getElementById("services"),o=n.querySelector(".container"),r=n.querySelector(".row"),l=n.querySelectorAll(".col-md-12"),a=n.querySelector(".services-arrows"),c=window.screen.width;o.style.cssText="overflow: hidden;",r.style.cssText="display: flex; transition: transform 0.5s; will-change: transform",r.insertAdjacentElement("afterend",a),c>576?(e=2,l.forEach((t=>{t.style.cssText=`display: flex; flex: 0 0 ${Math.floor(100/e)}%`}))):(e=1,l.forEach((t=>{t.style.cssText=`display: block; flex: 0 0 ${Math.floor(100/e)}%`}))),n.addEventListener("click",(n=>{n.target.closest(".services__arrow")&&(n.target.closest(".services__arrow--left")&&(--t,t<0&&(t=l.length-e),r.style.transform=`translateX(-${t*Math.floor(100/e)}%)`),n.target.closest(".services__arrow--right")&&(++t,t>l.length-e&&(t=0),r.style.transform=`translateX(-${t*Math.floor(100/e)}%)`))})),window.addEventListener("resize",s)},r=s;e(".header-modal","a.btn-warning",".header-modal__close",".overlay"),e(".services-modal","a.btn-success",".services-modal__close",".overlay"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.documentElement;e.style.display="none",window.addEventListener("scroll",(()=>{window.scrollY>700?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(()=>{t.scrollTo({top:0,behavior:"smooth"})}))})(),t("20 Sep 2021","#order_1",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),t("20 Sep 2021","#order_2",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),o(),r(),(()=>{const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),n=document.querySelector("#calc-type-material"),o=document.querySelector("#calc-input"),s=document.querySelectorAll("select.form-control"),r=document.getElementById("calc-total"),l=(e,t,n)=>{if(e)return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}};l(e,"change",(e=>{let s=e.target;(s.matches("#calc-type")||s.matches("#calc-type-material")||s.matches("#calc")||s.matches("#calc-input"))&&(()=>{let e=0;e=t.options[t.selectedIndex].value*n.options[n.selectedIndex].value*o.value,r.value=+e.toFixed(1)})()})),s.forEach((e=>{l(e,"change",(e=>{-1===e.target.selectedIndex&&(o.value="",r.value="",n.value="--",t.value="--")}))})),l(e,"input",(e=>{e.target.value=e.target.value.replace(/[^\d\.]/g,"")}))})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.querySelectorAll("a.sertificate-document");e.insertAdjacentHTML("beforebegin",'\n  \x3c!-- Модальное окно --\x3e\n  <div class="modal" id="modal-sertificate">\n    <div class="modal__content">\n      <div class="modal__close-button"><img src="./images/close.svg" width="20" alt=""></div>\n    </div>\n  </div>\n  ');let n=document.getElementById("style-modul");n=document.createElement("style"),n.id="style-modul",n.textContent='\n  .modal {\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    top: 50%;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    background: rgba(0, 0, 0, 0.9);\n    display: flex;\n    overflow-y: scroll;\n    \n  }\n  \n  .modal_active {\n    position: fixed;\n    visibility: visible;\n    opacity: 1;\n    transition: .1s;\n    top: 0;\n  }\n  \n  .modal__content {\n    width: 620px;\n    height: 850px;\n    background:#f9f9f9;\n    background:url("../images/documents/original/document4.jpg") center;\n    background-repeat:no-repeat;\n    background-size: contain;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 9998;\n  }\n  \n  .modal__close-button {\n    height: 35px;\n    width: 35px;\n    display: flex;\n    position: fixed;\n    right: -4px;\n    top: -1px;\n    cursor: pointer;\n    outline: none;\n    opacity: 0.6;\n  }\n  .modal__close-button:hover {\n    transition: .3s;\n    opacity: 1;\n  }\n\n  ',document.head.appendChild(n);const o=document.querySelector(".modal__close-button"),s=document.querySelector(".modal"),r=document.querySelector("#modal-sertificate");t.forEach((e=>{e.removeAttribute("href"),e.addEventListener("click",(e=>{e.preventDefault(),r.classList.add("modal_active")}))})),o.addEventListener("click",(e=>{e.preventDefault(),r.classList.remove("modal_active")})),s.addEventListener("click",(e=>{e.target.closest(".modal__content")||r.classList.remove("modal_active")}))})(),(()=>{const e=e=>{const t=e.target?e.target:e;if("fio"===t.name){if(!/^[а-яё a-z]{2,}$/i.test(t.value))return t.classList.remove("success"),t.classList.add("error"),t.value.trim(),!1}else t.classList.remove("error"),t.classList.add("success");if("phone"===t.name){if(!/^[\+ 0-9]{3,16}$/.test(t.value))return t.classList.remove("success"),t.classList.add("error"),t.value.trim(),!1}else t.classList.remove("error"),t.classList.add("success");return!0},t=()=>{const e=document.querySelector(".status-message");e&&setTimeout((()=>{e.remove()}),3e3)};document.querySelectorAll("form").forEach((n=>(n=>{const o=n,s=document.createElement("div"),r=o.querySelectorAll("button"),l=o.querySelectorAll("input.form-control"),a=document.querySelector("#calc-total");s.classList.add("status-message"),s.style.cssText="font-size: 2rem; color: #fff;";const c=document.createElement("div");c.classList.add("mess"),c.style.cssText="color: red;",c.textContent="не верно";for(let t of l)"BUTTON"!==t.tagName&&"hidden"!==t.type&&(t.setAttribute("required",""),t.addEventListener("input",(t=>{e(t)})),t.addEventListener("input",(e=>{let t=e.target;if(t.closest('input[placeholder="Ваше имя*"]')||t.closest('input[placeholder="ваше имя"]')&&void 0===t){let e=t.value;e=e[0].toUpperCase()+e.substring(1),t.value=e}t.closest(".error")?r.forEach((e=>{e.setAttribute("disabled",!0)})):r.forEach((e=>{e.removeAttribute("disabled")}))})));o.addEventListener("submit",(r=>{r.preventDefault(),s.textContent="Загрузка...",o.appendChild(s);let i=new FormData(o);a&&+a.value&&i.append("totalCalc",+a.value);let d=!0;if(l.forEach((t=>{if(!e(t))return d=!1,s.style.cssText="\n            font-size: 2rem;\n            color: red;\n          ",s.textContent="Ошибки в форме",!1})),!d)return!1;var u;(u=Object.fromEntries(i),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"})).then((e=>{if(200!==e.status)throw new Error("status network not 200");s.style.cssText="\n            font-size: 2rem;\n            color: green;\n          ",s.textContent="Спасибо! Мы скоро с вами свяжемся!",t(),setTimeout((()=>{c.classList.remove("mess")}),1e3),(e=>{[...e.elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value=""))})(n)})).catch((e=>{s.style.cssText="\n            font-size: 2rem;\n            color: red;\n          ",t(),s.textContent="Что-то пошло не так...",console.error(e)}))}))})(n)))})()})();