(()=>{"use strict";const e=(e,t,n,o)=>{const s=document.querySelectorAll(t),r=document.querySelector(n),l=document.querySelector(o),c=document.querySelector(e);s.forEach((e=>{e.addEventListener("click",(()=>{c.style.display="block",l.style.display="block"}))})),l.addEventListener("click",(()=>{c.style.display="none",l.style.display="none"})),r.addEventListener("click",(()=>{c.style.display="none",l.style.display="none"}))},t=(e,t,n,o,s,r)=>{let l=0;const c=document.querySelector(t);let a=c.querySelector(n),i=c.querySelector(o),d=c.querySelector(s),u=c.querySelector(r);const m=e=>1===String(e).length?"0"+e:String(e),p=()=>{let t=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=0,o=0,s=0,r=0;return t>0&&(n=Math.floor(t%60),o=Math.floor(t/60%60),s=Math.floor(t/60/60%24),r=Math.floor(t/86400)),{timeRemaining:t,days:r,hours:s,minutes:o,seconds:n}})();a.textContent=m(t.days),i.textContent=m(t.hours),d.textContent=m(t.minutes),u.textContent=m(t.seconds),t.timeRemaining<=0&&clearInterval(l)};p(),l=setInterval(p,1e3)};e(".header-modal","a.btn-warning",".header-modal__close",".overlay"),e(".services-modal","a.btn-success",".services-modal__close",".overlay"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.documentElement;e.style.display="none",window.addEventListener("scroll",(()=>{window.scrollY>700?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(()=>{t.scrollTo({top:0,behavior:"smooth"})}))})(),t("20 Sep 2021","#order_1",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),t("20 Sep 2021","#order_2",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.querySelectorAll("a.sertificate-document");e.insertAdjacentHTML("beforebegin",'\n  \x3c!-- Модальное окно --\x3e\n  <div class="modal" id="modal-sertificate">\n    <div class="modal__content">\n      <div class="modal__close-button"><img src="./images/close.svg" width="20" alt=""></div>\n    </div>\n  </div>\n  ');let n=document.getElementById("style-modul");n=document.createElement("style"),n.id="style-modul",n.textContent='\n  .modal {\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    top: 50%;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    background: rgba(0, 0, 0, 0.9);\n    display: flex;\n    overflow-y: scroll;\n    \n  }\n  \n  .modal_active {\n    position: fixed;\n    visibility: visible;\n    opacity: 1;\n    transition: .1s;\n    top: 0;\n  }\n  \n  .modal__content {\n    width: 620px;\n    height: 850px;\n    background:#f9f9f9;\n    background:url("../images/documents/original/document4.jpg") center;\n    background-repeat:no-repeat;\n    background-size: contain;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 9998;\n  }\n  \n  .modal__close-button {\n    height: 35px;\n    width: 35px;\n    display: flex;\n    position: fixed;\n    right: -4px;\n    top: -1px;\n    cursor: pointer;\n    outline: none;\n    opacity: 0.6;\n  }\n  .modal__close-button:hover {\n    transition: .3s;\n    opacity: 1;\n  }\n\n  ',document.head.appendChild(n);const o=document.querySelector(".modal__close-button"),s=document.querySelector(".modal"),r=document.querySelector("#modal-sertificate");t.forEach((e=>{e.removeAttribute("href"),e.addEventListener("click",(e=>{e.preventDefault(),r.classList.add("modal_active")}))})),o.addEventListener("click",(e=>{e.preventDefault(),r.classList.remove("modal_active")})),s.addEventListener("click",(e=>{e.target.closest(".modal__content")||r.classList.remove("modal_active")}))})(),(()=>{const e=()=>{const e=document.querySelector(".status-message");e&&setTimeout((()=>{e.remove()}),3e3)},t=t=>{const n=document.querySelector(t),o=document.createElement("div"),s=document.querySelectorAll("input"),r=document.querySelectorAll(".btn-block");o.classList.add("status-message"),o.style.cssText="font-size: 2rem; color: #fff";const l=()=>{s.forEach((e=>{e.classList.add("error")}))};s.forEach((e=>{e.setAttribute("required",""),e.addEventListener("focus",(e=>{let t=e.target;t.closest(".error")&&t.classList.remove("error")})),e.addEventListener("blur",(e=>{let t=e.target;if(t.closest('input[placeholder="Ваше имя*"]')||t.closest('input[placeholder="ваше имя"]')){let e=t.value;e=e[0].toUpperCase()+e.substring(1),t.value=e}t.closest(".error")?r.forEach((e=>{e.setAttribute("disabled",!0)})):(r.forEach((e=>{e.removeAttribute("disabled")})),"disabled"===!t&&t.classList.remove("error")),(e=>{const t=e.target;"phone"===t.name&&(/^[\+ 0-9]{11,16}$/.test(t.value)||l()),"fio"===t.name&&(/^[а-яё a-z]{2,}$/i.test(t.value)||l())})(e)}))})),n.addEventListener("submit",(r=>{var l;r.preventDefault(),o.textContent="Загрузка...",n.appendChild(o),(l=Object.fromEntries(new FormData(n)),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"})).then((n=>{if(200!==n.status)throw new Error("status network not 200");o.style.cssText="\n            font-size: 2rem;\n            color: green;\n          ",o.textContent="Спасибо! Мы скоро с вами свяжемся!",e(),(e=>{[...document.querySelector(e).elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value=""))})(t)})).catch((t=>{o.style.cssText="\n            font-size: 2rem;\n            color: red;\n          ",e(),o.textContent="Что-то пошло не так...",console.error(t)})),s.forEach((e=>{e.classList.remove("error")}))}))};t('form[name="action-form"]'),t('form[name="action-form2"]')})()})();