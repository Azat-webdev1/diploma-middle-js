(()=>{"use strict";const e=(e,t,n,o)=>{const s=document.querySelectorAll(t),l=document.querySelector(n),r=document.querySelector(o),a=document.querySelector(e);s.forEach((e=>{e.addEventListener("click",(()=>{a.style.display="block",r.style.display="block"}))})),r.addEventListener("click",(()=>{a.style.display="none",r.style.display="none"})),l.addEventListener("click",(()=>{a.style.display="none",r.style.display="none"}))},t=(e,t,n,o,s,l)=>{let r=0;const a=document.querySelector(t);let c=a.querySelector(n),i=a.querySelector(o),d=a.querySelector(s),u=a.querySelector(l);const m=e=>1===String(e).length?"0"+e:String(e),y=()=>{let t=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=0,o=0,s=0,l=0;return t>0&&(n=Math.floor(t%60),o=Math.floor(t/60%60),s=Math.floor(t/60/60%24),l=Math.floor(t/86400)),{timeRemaining:t,days:l,hours:s,minutes:o,seconds:n}})();c.textContent=m(t.days),i.textContent=m(t.hours),d.textContent=m(t.minutes),u.textContent=m(t.seconds),t.timeRemaining<=0&&clearInterval(r)};y(),r=setInterval(y,1e3)},n=()=>{let e,t=0;const o=document.getElementById("benefits"),s=document.querySelector(".benefits-wrap"),l=document.querySelector(".benefits-inner"),r=document.querySelectorAll(".benefits__item"),a=window.screen.width;e=a>576?3:1,l.style.overflow="hidden",l.style.maxWidth="576px",l.style.margin="0 auto",s.style.transition="transform 0.5s",s.style.willChange="transform",r.forEach((t=>{t.style.display="flex",t.style.flexDirection="column",t.style.flex=`0 0 ${Math.floor(100/e)}%`,t.style.maxWidth="unset"})),o.addEventListener("click",(n=>{n.target.closest(".benefits__arrow")&&(n.target.closest(".benefits__arrow--left")?(--t,t<0&&(t=r.length-e),s.style.transform=`translateX(-${t*Math.floor(100/e)}%)`):n.target.closest(".benefits__arrow--right")&&(++t,t>r.length-e&&(t=0),s.style.transform=`translateX(-${t*Math.floor(100/e)}%)`))})),window.addEventListener("resize",n)},o=n,s=()=>{let e,t=0;const n=document.getElementById("services"),o=n.querySelector(".container"),l=n.querySelector(".row"),r=n.querySelectorAll(".col-md-12"),a=n.querySelector(".services-arrows"),c=window.screen.width;o.style.cssText="overflow: hidden;",l.style.cssText="display: flex; transition: transform 0.5s; will-change: transform",l.insertAdjacentElement("afterend",a),c>576?(e=2,r.forEach((t=>{t.style.cssText=`display: flex; flex: 0 0 ${Math.floor(100/e)}%`}))):(e=1,r.forEach((t=>{t.style.cssText=`display: block; flex: 0 0 ${Math.floor(100/e)}%`}))),n.addEventListener("click",(n=>{n.target.closest(".services__arrow")&&(n.target.closest(".services__arrow--left")&&(--t,t<0&&(t=r.length-e),l.style.transform=`translateX(-${t*Math.floor(100/e)}%)`),n.target.closest(".services__arrow--right")&&(++t,t>r.length-e&&(t=0),l.style.transform=`translateX(-${t*Math.floor(100/e)}%)`))})),window.addEventListener("resize",s)},l=s;e(".header-modal","a.btn-warning",".header-modal__close",".overlay"),e(".services-modal","a.btn-success",".services-modal__close",".overlay"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.documentElement;e.style.display="none",window.addEventListener("scroll",(()=>{window.scrollY>700?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(()=>{t.scrollTo({top:0,behavior:"smooth"})}))})(),t("20 Sep 2021","#order_1",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),t("20 Sep 2021","#order_2",".count_1 span",".count_2 span",".count_3 span",".count_4 span"),o(),l(),(()=>{const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),n=document.querySelector("#calc-type-material"),o=document.querySelector("#calc-input"),s=document.querySelectorAll("select.form-control"),l=document.getElementById("calc-total"),r=(e,t,n)=>{if(e)return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}};r(e,"change",(e=>{let s=e.target;(s.matches("#calc-type")||s.matches("#calc-type-material")||s.matches("#calc")||s.matches("#calc-input"))&&(()=>{let e=0;e=t.options[t.selectedIndex].value*n.options[n.selectedIndex].value*o.value,l.value=+e.toFixed(1)})()})),s.forEach((e=>{r(e,"change",(e=>{-1===e.target.selectedIndex&&(o.value="",l.value="",n.value="--",t.value="--")}))})),r(e,"input",(e=>{e.target.value=e.target.value.replace(/[^\d\.]/g,"")}))})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.querySelectorAll("a.sertificate-document");e.insertAdjacentHTML("beforebegin",'\n  \x3c!-- Модальное окно --\x3e\n  <div class="modal" id="modal-sertificate">\n    <div class="modal__content">\n      <div class="modal__close-button"><img src="./images/close.svg" width="20" alt=""></div>\n    </div>\n  </div>\n  ');let n=document.getElementById("style-modul");n=document.createElement("style"),n.id="style-modul",n.textContent='\n  .modal {\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    top: 50%;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    background: rgba(0, 0, 0, 0.9);\n    display: flex;\n    overflow-y: scroll;\n    \n  }\n  \n  .modal_active {\n    position: fixed;\n    visibility: visible;\n    opacity: 1;\n    transition: .1s;\n    top: 0;\n  }\n  \n  .modal__content {\n    width: 620px;\n    height: 850px;\n    background:#f9f9f9;\n    background:url("../images/documents/original/document4.jpg") center;\n    background-repeat:no-repeat;\n    background-size: contain;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 9998;\n  }\n  \n  .modal__close-button {\n    height: 35px;\n    width: 35px;\n    display: flex;\n    position: fixed;\n    right: -4px;\n    top: -1px;\n    cursor: pointer;\n    outline: none;\n    opacity: 0.6;\n  }\n  .modal__close-button:hover {\n    transition: .3s;\n    opacity: 1;\n  }\n\n  ',document.head.appendChild(n);const o=document.querySelector(".modal__close-button"),s=document.querySelector(".modal"),l=document.querySelector("#modal-sertificate");t.forEach((e=>{e.removeAttribute("href"),e.addEventListener("click",(e=>{e.preventDefault(),l.classList.add("modal_active")}))})),o.addEventListener("click",(e=>{e.preventDefault(),l.classList.remove("modal_active")})),s.addEventListener("click",(e=>{e.target.closest(".modal__content")||l.classList.remove("modal_active")}))})(),(()=>{const e=()=>{const e=document.querySelector(".status-message");e&&setTimeout((()=>{e.remove()}),3e3)},t=t=>{const n=document.querySelector(t),o=document.createElement("div"),s=document.querySelectorAll(".btn-block"),l=document.querySelectorAll("input"),r=document.querySelector("#calc-total");o.classList.add("status-message"),o.style.cssText="font-size: 2rem; color: #fff;";const a=e=>{const t=e.target;t.value.trim(),"fio"===t.name&&(/^[а-яё a-z]{2,}$/i.test(t.value)?(t.classList.remove("error"),t.classList.add("success"),t.setCustomValidity("")):(t.classList.remove("success"),t.classList.add("error"),t.value.trim(),t.setCustomValidity("не верное имя"))),"phone"===t.name&&(/^[\+ 0-9]/.test(t.value)?(t.classList.remove("error"),t.classList.add("success"),t.setCustomValidity("")):(t.classList.remove("success"),t.classList.add("error"),t.value.trim(),t.setCustomValidity("не верный телефон")))};for(let e of l)"BUTTON"!==e.tagName&&"hidden"!==e.type&&(e.setAttribute("required",""),e.addEventListener("change",(e=>{a(e)})),e.addEventListener("blur",(e=>{let t=e.target;if(t.closest('input[placeholder="Ваше имя*"]')||t.closest('input[placeholder="ваше имя"]')&&void 0===t){let e=t.value;e=e[0].toUpperCase()+e.substring(1),t.value=e}t.closest(".error")?s.forEach((e=>{e.setAttribute("disabled",!0)})):s.forEach((e=>{e.removeAttribute("disabled")})),t.classList.remove("success")})));n.addEventListener("submit",(s=>{s.preventDefault(),o.textContent="Загрузка...",n.appendChild(o);let l=new FormData(n);var a;r&&+r.value&&l.append("totalCalc",+r.value),(a=Object.fromEntries(l),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"})).then((n=>{if(200!==n.status)throw new Error("status network not 200");o.style.cssText="\n            font-size: 2rem;\n            color: green;\n          ",o.textContent="Спасибо! Мы скоро с вами свяжемся!",e(),(e=>{[...document.querySelector(e).elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value=""))})(t)})).catch((t=>{o.style.cssText="\n            font-size: 2rem;\n            color: red;\n          ",e(),o.textContent="Что-то пошло не так...",console.error(t)}))}))};t('form[name="action-form"]'),t('form[name="action-form2"]')})()})();